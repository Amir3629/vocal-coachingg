(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[774],{7761:function(e,t,r){Promise.resolve().then(r.bind(r,7348))},7348:function(e,t,r){"use strict";r.d(t,{default:function(){return o}});var n=r(7437),a=r(2265),s=r(1542),c=r(9376),i=r(257);function o(e){let{orderId:t}=e,r=(0,c.useRouter)(),[o,l]=(0,a.useState)(!0),u=async e=>{try{if(!(await fetch("".concat(i.env.NEXT_PUBLIC_APP_URL,"/api/capture-paypal-order"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:e.orderID})})).ok)throw Error("Payment capture failed");r.push("/booking/success")}catch(e){console.error("Payment error:",e),r.push("/booking/error")}};return(0,n.jsx)("div",{className:"min-h-screen bg-[#0A0A0A] flex items-center justify-center p-4",children:(0,n.jsxs)("div",{className:"w-full max-w-md bg-[#1A1A1A] rounded-xl p-6 space-y-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold text-white text-center",children:"Zahlung best\xe4tigen"}),(0,n.jsx)("p",{className:"text-gray-400 text-center",children:"Bitte best\xe4tigen Sie die Zahlung von 30â‚¬ als Anzahlung f\xfcr Ihre Buchung."}),(0,n.jsx)(s.Vv,{options:{clientId:i.env.NEXT_PUBLIC_PAYPAL_CLIENT_ID,currency:"EUR"},children:(0,n.jsx)(s.ch,{style:{layout:"vertical"},createOrder:(e,t)=>t.order.create({intent:"CAPTURE",purchase_units:[{amount:{value:"30.00",currency_code:"EUR"},description:"Anzahlung f\xfcr Gesangsunterricht"}]}),onApprove:async(e,t)=>{if(t.order){let e=await t.order.capture();await u(e)}}})}),(0,n.jsx)("div",{className:"mt-6 text-sm text-gray-400 text-center",children:(0,n.jsx)("p",{children:"Nach erfolgreicher Zahlung erhalten Sie eine Best\xe4tigungs-E-Mail mit allen Details zu Ihrem Termin."})})]})})}}},function(e){e.O(0,[223,971,117,744],function(){return e(e.s=7761)}),_N_E=e.O()}]);